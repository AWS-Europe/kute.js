!function(t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():window.KUTE=window.KUTE||t()}(function(){"use strict";for(var t=t||{},e=[],n=null,r=(function(){var t=document.createElement("div"),e=0,n=["Moz","moz","Webkit","webkit","O","o","Ms","ms"],r=n.length,i=["MozTransform","mozTransform","WebkitTransform","webkitTransform","OTransform","oTransform","MsTransform","msTransform"];for(e;e<r;e++)if(i[e]in t.style)return n[e];t=null}),i=(function(t){var e=!(t in document.body.style),n=r();return e?n+(t.charAt(0).toUpperCase()+t.slice(1)):t}),s=function(t,e){var n;if(n=e?"object"==typeof t?t:document.querySelectorAll(t):"object"==typeof t?t:/^#/.test(t)?document.getElementById(t.replace("#","")):document.querySelector(t),null===n&&"window"!==t)throw new TypeError("Element not found or incorrect selector: "+t);return n},a=function(t,e){function n(){var n,r=0;for(r;r<s;r++)"string"==typeof t&&t.indexOf(i[r])!==-1&&(n=i[r]);return n=void 0!==n?n:e?"deg":"px"}var r=parseInt(t)||0,i=["px","%","deg","rad","em","rem","vh","vw"],s=i.length,a=n();return{v:r,u:a}},o=function(t){var e,n;if(/rgb|rgba/.test(t))return e=t.replace(/[^\d,]/g,"").split(","),n=e[3]?e[3]:null,n?{r:parseInt(e[0]),g:parseInt(e[1]),b:parseInt(e[2]),a:1*n}:{r:parseInt(e[0]),g:parseInt(e[1]),b:parseInt(e[2])};if(/#/.test(t))return e=c(t),{r:e.r,g:e.g,b:e.b};if(/transparent|none|initial|inherit/.test(t))return{r:0,g:0,b:0,a:0};if(!/#|rgb/.test(t)){var r=document.getElementsByTagName("head")[0];return r.style.color=t,e=window.getComputedStyle(r,null).color,r.style.color="",t!==e?o(e):{r:0,g:0,b:0}}},u=function(t){var e=document.body.getAttribute("data-tweening");e&&"scroll"===e&&t.preventDefault()},l=function(t,e,n){return"#"+((1<<24)+(t<<16)+(e<<8)+n).toString(16).slice(1)},c=function(t){var e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;t=t.replace(e,function(t,e,n,r){return e+e+n+n+r+r});var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}:null},f=function(t,e){if(t){var n=t.style.cssText,r={},i=n.replace(/\s/g,"").split(";"),s=0,a=i.length;for(s;s<a;s++)if(/transform/.test(i[s])){var o=i[s].split(":")[1].split(")"),u=0,l=o.length;for(u;u<l;u++){var c=o[u].split("(");""!==c[0]&&X.indexOf(c)&&(r[c[0]]=/translate3d/.test(c[0])?c[1].split(","):c[1])}}return r}},p=(function(t,e){var n=t.style,r=window.getComputedStyle(t,null)||t.currentStyle,s=i(e),a=n[e]&&!/auto|initial|none|unset/.test(n[e])?n[e]:r[s];if("transform"!==e&&(s in r||s in n)){if(a){if("filter"===s){var o=parseInt(a.split("=")[1].replace(")","")),u=parseFloat(o/100);return u}return a}return Z[e]}}),h=function(e){if("function"==typeof e)return e;if("string"==typeof e){if(/easing|linear/.test(e))return et[e];if(/bezier/.test(e)){var n=e.replace(/bezier|\s|\(|\)/g,"").split(",");return t.Ease.Bezier(1*n[0],1*n[1],1*n[2],1*n[3])}return/physics/.test(e)?t.Physics[e]():t.Ease[e]()}},v=("ontouchstart"in window||navigator.msMaxTouchPoints||!1),d=v?"touchstart":"mousewheel",g="mouseenter",_=i("transformOrigin"),w=i("perspective"),y=i("perspectiveOrigin"),m=i("transform"),T=window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(t){return setTimeout(t,16)},O=window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||function(t){return clearTimeout(t)},b=document.body,x=document.getElementsByTagName("HTML")[0],E=/webkit/i.test(navigator.userAgent)||"BackCompat"==document.compatMode?b:x,I=null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(navigator.userAgent)&&parseFloat(RegExp.$1),S=8===I,C=["color","backgroundColor"],M=["scrollTop","scroll"],k=["opacity"],Y=["top","left","width","height"],X=["translate3d","translateX","translateY","translateZ","rotate","translate","rotateX","rotateY","rotateZ","skewX","skewY","scale"],F=C.concat(M,k,Y,X),B=F.length,Z=Z||{},A=0;A<B;A++){var q=F[A];C.indexOf(q)!==-1?Z[q]="rgba(0,0,0,0)":Y.indexOf(q)!==-1?Z[q]=0:"translate3d"===q?Z[q]=[0,0,0]:"translate"===q?Z[q]=[0,0]:"rotate"===q||/X|Y|Z/.test(q)?Z[q]=0:"scale"!==q&&"opacity"!==q||(Z[q]=1)}var z=function(t,e,n){var r=s(t),i=e,a=J(e,{},r)[0];return n=n||{},n.rpr=!0,new ot(r,i,a,n)},$=function(e,n,r,i){var a=s(e),o=J(n,r,a),u=o[0],l=o[1];i=i||{};var c=new ot(a,u,l,i);return t.svg&&t.svq(c),c},L=function(t,e,n){var r=s(t,!0);return new ut(r,e,n)},Q=function(t,e,n,r){var i=s(t,!0);return new lt(i,e,n,r)},R=function(t,e,n){return t=+t,e-=t,t+e*n},P=window.unit=function(t,e,n,r){return t=+t,e-=t,t+e*r+n},D=function(t,e,n,r){var i,s={},a=l,o=")",u=",",c="rgb(",f="rgba(";for(i in e)s[i]="a"!==i?parseInt(R(t[i],e[i],n))||0:t[i]&&e[i]?parseFloat(R(t[i],e[i],n)):null;return r?a(s.r,s.g,s.b):s.a?f+s.r+u+s.g+u+s.b+u+s.a+o:c+s.r+u+s.g+u+s.b+o},N={},j=function t(r){for(var i=0;i<e.length;)H(e[i],r)?i++:e.splice(i,1);n=T(t)},H=function(t,e){if(e=e||window.performance.now(),e<t._sT&&t.playing&&!t.paused)return!0;var n,r=Math.min((e-t._sT)/t._dr,1);for(n in t._vE)N[n].call(this,t._el,n,t._vS[n],t._vE[n],t._e(r),t._ops);if(t._uC&&t._uC.call(),1===r){if(t._r>0)return t._r<9999&&t._r--,t._y&&(t.reversed=!t.reversed,t.rvs()),t._sT=t._y&&!t.reversed?e+t._rD:e,!0;t._cC&&t._cC.call(),t.scrollOut();var i=0,s=t._cT.length;for(i;i<s;i++)t._cT[i].start(t._sT+t._dr);return t.close(),!1}return!0},U=function(t,e){void 0!==e._to&&(t.style[_]=e._to),void 0!==e._ppo&&(t.style[y]=e._ppo),void 0!==e._ppp&&(t.parentNode.style[w]=e._ppp+"px"),void 0!==e._pppo&&(t.parentNode.style[y]=e._pppo)},K=function(t){e.push(t)},W=function(t){var n=e.indexOf(t);n!==-1&&e.splice(n,1)},G=function(){n&&O(n),n=null},J=function(e,n,r){var i,s=arguments.length,a=[];for(s=s>2?2:s,i=0;i<s;i++){var o,u=arguments[i],l={},c={},f={},p={};a[i]={};for(o in u)if(X.indexOf(o)!==-1){if(/^translate(?:[XYZ]|3d)$/.test(o)){var h=["X","Y","Z"],v=0;for(v;v<3;v++){var d=h[v];/3d/.test(o)?f["translate"+d]=V.tf("translate"+d,u[o][v]):f["translate"+d]="translate"+d in u?V.tf("translate"+d,u["translate"+d]):{value:0,unit:"px"}}p.translate=f}else if(/^rotate(?:[XYZ])$|^skew(?:[XY])$/.test(o)){var g=/rotate/.test(o)?"rotate":"skew",_=["X","Y","Z"],w=0,y="rotate"===g?c:l;for(w;w<3;w++){var m=_[w];void 0!==u[g+m]&&"skewZ"!==o&&(y[g+m]=V.tf(g+m,u[g+m]))}p[g]=y}else/(rotate|translate|scale)$/.test(o)&&(p[o]=V.tf(o,u[o]));a[i].transform=p}else"transform"!==o&&(Y.indexOf(o)!==-1?a[i][o]=V.box(o,u[o]):k.indexOf(o)!==-1||M.indexOf(o)!==-1?a[i][o]=V.unl(o,u[o]):C.indexOf(o)!==-1?a[i][o]=V.cls(o,u[o]):o in t.pp&&(a[i][o]=t.pp[o](o,u[o],r)))}return a},V={box:function(t,e){return t in N||(N[t]=function(t,e,n,r,i){t.style[e]=P(n.value,r.value,r.unit,i)}),{value:a(e).v,unit:a(e).u}},tf:function(t,e){if("transform"in N||(N.transform=function(t,e,n,r,i,s){var a,o="",u=!!(u||s.perspective&&0!==parseInt(s.perspective))&&"perspective("+parseInt(s.perspective)+"px) ";for(a in r){var l=n[a],c=r[a];if("translate"===a){var f,p="",h={};for(f in c){var v=l[f].value||0,d=c[f].value||0,g=c[f].unit||"px";h[f]=v===d?d+g:v+(d-v)*i+g}p=c.x?"translate("+h.x+","+h.y+")":"translate3d("+h.translateX+","+h.translateY+","+h.translateZ+")",o=""===o?p:p+" "+o}else if("rotate"===a){var _,w="",y={};for(_ in c)if(l[_]){var T=l[_].value,O=c[_].value,b=c[_].unit||"deg",x=T+(O-T)*i;y[_]="z"===_?"rotate("+x+b+")":_+"("+x+b+") "}w=c.z?y.z:(y.rotateX||"")+(y.rotateY||"")+(y.rotateZ||""),o=""===o?w:o+" "+w}else if("skew"===a){var E="",I={};for(var S in c)if(l[S]){var C=l[S].value,M=c[S].value,k=c[S].unit||"deg",Y=C+(M-C)*i;I[S]=S+"("+Y+k+") "}E=(I.skewX||"")+(I.skewY||""),o=""===o?E:o+" "+E}else if("scale"===a){var X=l.value,F=c.value,B=X+(F-X)*i,Z=a+"("+B+")";o=""===o?Z:o+" "+Z}}t.style[m]=u?u+o:o}),"translate3d"===t){var n=e.split(",");return{translateX:{value:a(n[0]).v,unit:a(n[0]).u},translateY:{value:a(n[1]).v,unit:a(n[1]).u},translateZ:{value:a(n[2]).v,unit:a(n[2]).u}}}if(/^translate(?:[XYZ])$/.test(t))return{value:a(e).v,unit:a(e).u||"px"};if(/^rotate(?:[XYZ])$|skew(?:[XY])$/.test(t))return{value:a(e,!0).v,unit:a(e,!0).u||"deg"};if("translate"===t){var r="string"==typeof e?e.split(","):e,i={};return r instanceof Array?(i.x={value:a(r[0]).v,unit:a(r[0]).u},i.y={value:a(r[1]).v,unit:a(r[1]).u}):(i.x={value:a(r).v,unit:a(r).u},i.y={value:0,unit:"px"}),i}if("rotate"===t){var s={};return s.z={value:a(e,!0).v,unit:a(e,!0).u||"deg"},s}return"scale"===t?{value:parseFloat(e)}:void 0},unl:function(t,e){return!/scroll/.test(t)||t in N?"opacity"===t&&(t in N||(S?N[t]=function(t,e,n,r,i){var s="alpha(opacity=",a=")";t.style.filter=s+100*R(n,r,i)+a}:N[t]=function(t,e,n,r,i){t.style.opacity=R(n,r,i)})):N[t]=function(t,e,n,r,i){var s=s||void 0===t||null===t?E:t;s.scrollTop=R(n,r,i)},parseFloat(e)},cls:function(t,e){return t in N||(N[t]=function(t,e,n,r,i,s){t.style[e]=D(n,r,i,s.keepHex)}),o(e)}},tt={},et={},nt=Math.PI,rt=2*Math.PI,it=Math.PI/2,st=.1,at=.4;et.linear=function(t){return t},et.easingSinusoidalIn=function(t){return-Math.cos(t*it)+1},et.easingSinusoidalOut=function(t){return Math.sin(t*it)},et.easingSinusoidalInOut=function(t){return-.5*(Math.cos(nt*t)-1)},et.easingQuadraticIn=function(t){return t*t},et.easingQuadraticOut=function(t){return t*(2-t)},et.easingQuadraticInOut=function(t){return t<.5?2*t*t:-1+(4-2*t)*t},et.easingCubicIn=function(t){return t*t*t},et.easingCubicOut=function(t){return--t*t*t+1},et.easingCubicInOut=function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},et.easingQuarticIn=function(t){return t*t*t*t},et.easingQuarticOut=function(t){return 1- --t*t*t*t},et.easingQuarticInOut=function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},et.easingQuinticIn=function(t){return t*t*t*t*t},et.easingQuinticOut=function(t){return 1+--t*t*t*t*t},et.easingQuinticInOut=function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t},et.easingCircularIn=function(t){return-(Math.sqrt(1-t*t)-1)},et.easingCircularOut=function(t){return Math.sqrt(1-(t-=1)*t)},et.easingCircularInOut=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},et.easingExponentialIn=function(t){return Math.pow(2,10*(t-1))-.001},et.easingExponentialOut=function(t){return 1-Math.pow(2,-10*t)},et.easingExponentialInOut=function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))},et.easingBackIn=function(t){var e=1.70158;return t*t*((e+1)*t-e)},et.easingBackOut=function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},et.easingBackInOut=function(t){var e=2.5949095;return(t*=2)<1?.5*(t*t*((e+1)*t-e)):.5*((t-=2)*t*((e+1)*t+e)+2)},et.easingElasticIn=function(t){var e;return 0===t?0:1===t?1:(!st||st<1?(st=1,e=at/4):e=at*Math.asin(1/st)/rt,-(st*Math.pow(2,10*(t-=1))*Math.sin((t-e)*rt/at)))},et.easingElasticOut=function(t){var e;return 0===t?0:1===t?1:(!st||st<1?(st=1,e=at/4):e=at*Math.asin(1/st)/rt,st*Math.pow(2,-10*t)*Math.sin((t-e)*rt/at)+1)},et.easingElasticInOut=function(t){var e;return 0===t?0:1===t?1:(!st||st<1?(st=1,e=at/4):e=at*Math.asin(1/st)/rt,(t*=2)<1?-.5*(st*Math.pow(2,10*(t-=1))*Math.sin((t-e)*rt/at)):st*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*rt/at)*.5+1)},et.easingBounceIn=function(t){return 1-et.easingBounceOut(1-t)},et.easingBounceOut=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},et.easingBounceInOut=function(t){return t<.5?.5*et.easingBounceIn(2*t):.5*et.easingBounceOut(2*t-1)+.5};var ot=function(n,r,i,s){this._el=n,this._vSR={},this._vS=r,this._vE=i,this._y=s.yoyo||!1,this.playing=!1,this.reversed=!1,this.paused=!1,this._sT=null,this._pST=null,this._hex=s.keepHex||!1,this._rpr=s.rpr||!1,this._dr=s.duration||700,this._r=s.repeat||0,this._rD=s.repeatDelay||0,this._dl=s.delay||0,this._to=s.transformOrigin,this._pp=!(!s.perspective||0===parseInt(s.perspective))&&"perspective("+parseInt(s.perspective)+"px) ",this._ppo=s.perspectiveOrigin,this._ppp=s.parentPerspective,this._pppo=s.parentPerspectiveOrigin,this._e=s&&s.easing&&"function"==typeof h(s.easing)?h(s.easing):et.linear,this._cT=[],this._sCF=!1,this._sC=s.start||null,this._uC=s.update||null,this._cC=s.complete||null,this._pC=s.pause||null,this._rC=s.play||null,this._stC=s.stop||null,this.repeat=this._r,this._ops={};for(var a in s)a in this||/delay|duration|repeat|origin|start|stop|update|complete|pause|play|yoyo|easing/i.test(a)||(this._ops[a]=s[a]);this.pause=function(){return!this.paused&&this.playing&&(W(this),this.paused=!0,this._pST=window.performance.now(),null!==this._pC&&this._pC.call()),this},this.stop=function(){return!this.paused&&this.playing&&(W(this),this.playing=!1,this.paused=!1,this.scrollOut(),null!==this._stC&&this._stC.call(),this.stopChainedTweens(),this.close()),this},this.rvs=function(){if(this._y)for(var t in this._vE){var e=this._vSR[t];this._vSR[t]=this._vE[t],this._vE[t]=e,this._vS[t]=this._vSR[t]}},this.chain=function(){return this._cT=arguments,this},this.stopChainedTweens=function(){var t=0,e=this._cT.length;for(t;t<e;t++)this._cT[t].stop()},this.scrollOut=function(){("scroll"in this._vE||"scrollTop"in this._vE)&&(this.removeListeners(),document.body.removeAttribute("data-tweening"))},this.scrollIn=function(){("scroll"in this._vE||"scrollTop"in this._vE)&&(document.body.getAttribute("data-tweening")||(document.body.setAttribute("data-tweening","scroll"),this.addListeners()))},this.addListeners=function(){document.addEventListener(d,u,!1),document.addEventListener(g,u,!1)},this.removeListeners=function(){document.removeEventListener(d,u,!1),document.removeEventListener(g,u,!1)},this.stack=function(){var e=this.prS();this._vS={},this._vS=J(e,{},this._el)[0];for(var n in this._vS)if("transform"===n&&n in this._vE)for(var r in this._vS[n]){r in this._vE[n]||(this._vE[n][r]={});for(var i in this._vS[n][r])if(void 0!==this._vS[n][r][i].value){i in this._vE[n][r]||(this._vE[n][r][i]={});for(var s in this._vS[n][r][i])s in this._vE[n][r][i]||(this._vE[n][r][i][s]=this._vS[n][r][i][s])}if("value"in this._vS[n][r]&&!("value"in this._vE[n][r]))for(var a in this._vS[n][r])a in this._vE[n][r]||(this._vE[n][r][a]=this._vS[n][r][a])}t.svg&&t.svq(this)},this.prS=function(){var e={},n=this._el,r=this._vS,i=f(n,"transform"),s=["rotate","skew"],a=["X","Y","Z"];for(var o in r)if(X.indexOf(o)!==-1){var u=/(rotate|translate|scale)$/.test(o);if(/translate/.test(o)&&"translate"!==o)e.translate3d=i.translate3d||Z[o];else if(u)e[o]=i[o]||Z[o];else if(!u&&/rotate|skew/.test(o))for(var l=0;l<2;l++)for(var c=0;c<3;c++){var h=s[l]+a[c];X.indexOf(h)!==-1&&h in r&&(e[h]=i[h]||Z[h])}}else if(M.indexOf(o)===-1)if("opacity"===o&&S){var v=p(n,"filter");e.opacity="number"==typeof v?v:Z.opacity}else F.indexOf(o)!==-1?e[o]=p(n,o)||l[o]:e[o]=o in t.prS?t.prS[o](n,o,r[o]):0;else e[o]=null===n||void 0===n?window.pageYOffset||E.scrollTop:n.scrollTop;for(var o in i)X.indexOf(o)===-1||o in r||(e[o]=i[o]||Z[o]);return e},this.close=function(){var t=this;setTimeout(function(){var n=e.indexOf(t);n===e.length-1&&G(),t.repeat>0&&(t._r=t.repeat),t._y&&t.reversed===!0&&(t.rvs(),t.reversed=!1),t.playing=!1},64)}},ut=function(t,e,n){this.tweens=[];var r,i=t.length,s=[];for(r=0;r<i;r++)s[r]=n||{},n.delay=n.delay||0,s[r].delay=r>0?n.delay+(n.offset||0):n.delay,this.tweens.push(z(t[r],e,s[r]))},lt=function(t,e,n,r){this.tweens=[];var i,s=t.length,a=[];for(i=0;i<s;i++)a[i]=r||{},r.delay=r.delay||0,a[i].delay=i>0?r.delay+(r.offset||0):r.delay,this.tweens.push($(t[i],e,n,a[i]))},ct=ut.prototype=lt.prototype;ct.start=function(t){t=t||window.performance.now();var e,n=this.tweens.length;for(e=0;e<n;e++)this.tweens[e].start(t);return this},ct.stop=function(){for(var t=0;t<this.tweens.length;t++)this.tweens[t].stop();return this},ct.pause=function(){for(var t=0;t<this.tweens.length;t++)this.tweens[t].pause();return this},ct.chain=function(){return this.tweens[this.tweens.length-1]._cT=arguments,this},ct.play=ct.resume=function(){for(var t=0;t<this.tweens.length;t++)this.tweens[t].play();return this};var ft=function(t){this.scrollIn(),U(this._el,this),this._rpr&&this.stack();for(var e in this._vE)this._vSR[e]=this._vS[e];return K(this),this.playing=!0,this.paused=!1,this._sCF=!1,this._sT=t||window.performance.now(),this._sT+=this._dl,this._sCF||(this._sC&&this._sC.call(),this._sCF=!0),n||j(),this},pt=function(){return this.paused&&this.playing&&(this.paused=!1,null!==this._rC&&this._rC.call(),this._sT+=window.performance.now()-this._pST,K(this),n||j()),this};return ot.prototype.start=ft,ot.prototype.play=ot.prototype.resume=pt,t={property:i,getPrefix:r,selector:s,pe:h,to:z,fromTo:$,allTo:L,allFromTo:Q,Interpolate:{number:R,unit:P,color:D},dom:N,pp:V,prS:tt,truD:a,truC:o,rth:l,htr:c,gCS:p,Easing:et,Tween:ot,TweensTO:ut,TweensFT:lt}});
