// KUTE.js v1.5.99 | Â© dnp_theme | SVG Plugin | MIT-License
!function(t,e){if("function"==typeof define&&define.amd)define(["kute.js"],e);else if("object"==typeof module&&"function"==typeof require)module.exports=e(require("kute.js"));else{if("undefined"==typeof t.KUTE)throw new Error("SVG Plugin require KUTE.js.");e(t.KUTE)}}(this,function(t){"use strict";var e="undefined"!=typeof global?global:window,r=t,n=r.dom,s=r.parseProperty,a=r.prepareStart,o=r.getCurrentStyle,l=(r.truC,r.truD,r.crossCheck),h=e.Interpolate.number,u=(e.Interpolate.unit,e.Interpolate.color,!(!navigator||null===new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(navigator.userAgent))&&parseFloat(RegExp.$1)),p=/(m[^(h|v|l)]*|[vhl][^(v|h|l|z)]*)/gim,f="http://www.w3.org/2000/svg",g=e.Interpolate.coords=function(t,e,r,n){for(var s=[],a=0;a<r;a++){s[a]=[];for(var i=0;i<2;i++)s[a].push(t[a][i]+(e[a][i]-t[a][i])*n>>0)}return s};if(!(u&&u<9)){var c=function(t,e,r){for(var n=[],s=[],a=t.getTotalLength(),i=e.getTotalLength(),o=Math.max(a,i),l=o/r,h=0,u=l*r;(h+=r)<u;)n.push([t.getPointAtLength(h).x,t.getPointAtLength(h).y]),s.push([e.getPointAtLength(h).x,e.getPointAtLength(h).y]);return[n,s]},v=function(t,e,r){var n,s,a,o,l,h=[],u=r.length;for(i=0;i<u;i++)n=Math.abs(r[i][0]-e.x),s=Math.abs(r[i][1]-e.y),h.push(Math.sqrt(n*n+s*s));return a=h.indexOf(Math.min.apply(null,h)),l=r[a-1]?a-1:u-1,o=r[a+1]?a+1:0,Math.abs(r[l][0]-e.x)<t&&Math.abs(r[l][1]-e.y)<t?r[l]:Math.abs(r[o][0]-e.x)<t&&Math.abs(r[o][1]-e.y)<t?r[o]:Math.abs(r[a][0]-e.x)<t&&Math.abs(r[a][1]-e.y)<t?r[a]:[e.x,e.y]},m=function(t){for(var e,r,n=t.match(p),s=n.length,a=0,i=0,o=0;o<s;o++)n[o]=n[o],e=n[o][0],r=new RegExp(e+"[^\\d|\\-]*","i"),n[o]=n[o].replace(/(^|[^,])\s*-/g,"$1,-").replace(/(\s+\,|\s|\,)/g,",").replace(r,"").split(","),n[o][0]=parseFloat(n[o][0]),n[o][1]=parseFloat(n[o][1]),0===o?(a+=n[o][0],i+=n[o][1]):(a=n[o-1][0],i=n[o-1][1],/l/i.test(e)?(n[o][0]="l"===e?n[o][0]+a:n[o][0],n[o][1]="l"===e?n[o][1]+i:n[o][1]):/h/i.test(e)?(n[o][0]="h"===e?n[o][0]+a:n[o][0],n[o][1]=i):/v/i.test(e)&&(n[o][0]=a,n[o][1]="v"===e?n[o][0]+i:n[o][0]));return n},d=function(t){return t.split(/z/i).shift()+"z"},w=function(t){var e=document.createElementNS(f,"path"),r="object"==typeof t?t.getAttribute("d"):t;return e.setAttribute("d",r),e},y=function(t){if("glyph"===t.tagName){var e=w(t);return t.parentNode.appendChild(e),e}return t},b=function(t){var e={},r="object"==typeof t?t:/^\.|^\#/.test(t)?document.querySelector(t):null;return r&&/path|glyph/.test(r.tagName)?(e.e=y(r),e.o=r.getAttribute("d")):!r&&/[a-z][^a-z]*/gi.test(t)&&(e.e=w(t.trim()),e.o=t),e},A=function(t,e){var r,n,s,a,i,o,l,h,u,p,f,g=[];if(this._isPolygon)if(t=m(t),e=m(e),t.length!==e.length){a=Math.max(t.length,e.length),a===e.length?(i=t,o=e):(i=e,o=t),h=i.length,l=w("M"+i.join("L")+"z"),u=l.getTotalLength()/a;for(var d=0;d<a;d++)p=l.getPointAtLength(u*d),f=v(u,p,i),g.push([f[0],f[1]]);a===e.length?(n=o,r=g):(r=o,n=g)}else r=t,n=e;else t=w(t),e=w(e),s=c(t,e,this.options.morphPrecision),r=s[0],n=s[1],a=n.length;if(this.options.reverseFirstPath&&r.reverse(),this.options.reverseSecondPath&&n.reverse(),this.options.morphIndex){var y=n.splice(this.options.morphIndex,a-this.options.morphIndex);n=y.concat(n)}return t=e=null,[r,n]};s.path=function(t,e){return"path"in n||(n.path=function(t,e,r,n,s){t.setAttribute("d",1===s?n.o:"M"+g(r.d,n.d,n.d.length,s)+"Z")}),b(e)},a.path=function(t){return this.element.getAttribute("d")},l.path=function(){var t,e=d(this.valuesStart.path.o),r=d(this.valuesEnd.path.o);this.options.morphPrecision=this.options&&"morphPrecision"in this.options?parseInt(this.options.morphPrecision):15,this._isPolygon=!/[CSQTA]/i.test(e)&&!/[CSQTA]/i.test(r),t=A.apply(this,[e,r]),this.valuesStart.path.d=t[0],this.valuesEnd.path.d=t[1]};var x=function(t,e){return parseFloat(t)/100*e},M=function(t){var e=t.getAttribute("width"),r=t.getAttribute("height");return 2*e+2*r},T=function(t){var e=t.getAttribute("points").split(" "),r=0;if(e.length>1){var n=function(t){var e=t.split(",");if(2==e.length&&!isNaN(e[0])&&!isNaN(e[1]))return[parseFloat(e[0]),parseFloat(e[1])]},s=function(t,e){return void 0!=t&&void 0!=e?Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)):0};if(e.length>2)for(var a=0;a<e.length-1;a++)r+=s(n(e[a]),n(e[a+1]));r+=s(n(e[0]),n(e[e.length-1]))}return r},k=function(t){var e=t.getAttribute("x1"),r=t.getAttribute("x2"),n=t.getAttribute("y1"),s=t.getAttribute("y2");return Math.sqrt(Math.pow(r-e,2)+Math.pow(s-n,2))},S=function(t){var e=t.getAttribute("r");return 2*Math.PI*e},P=function(t){var e=t.getAttribute("rx"),r=t.getAttribute("ry"),n=2*e,s=2*r;return Math.sqrt(.5*(n*n+s*s))*(2*Math.PI)/2},E=function(t){return/rect/.test(t.tagName)?M(t):/circle/.test(t.tagName)?S(t):/ellipse/.test(t.tagName)?P(t):/polygon|polyline/.test(t.tagName)?T(t):/line/.test(t.tagName)?k(t):void 0},I=function(t,e){var r,n,s,a,i=/path|glyph/.test(t.tagName)?t.getTotalLength():E(t);return e instanceof Object?e:("string"==typeof e?(e=e.split(/\,|\s/),r=/%/.test(e[0])?x(e[0].trim(),i):parseFloat(e[0]),n=/%/.test(e[1])?x(e[1].trim(),i):parseFloat(e[1])):"undefined"==typeof e&&(a=parseFloat(o(t,"stroke-dashoffset")),s=o(t,"stroke-dasharray").split(/\,/),r=0-a,n=parseFloat(s[0])+r||i),{s:r,e:n,l:i})};s.draw=function(t,e){return"draw"in n||(n.draw=function(t,e,r,n,s){var a=r.l>>0,i=h(r.s,n.s,s)>>0,o=h(r.e,n.e,s)>>0,l=0-i;t.style.strokeDashoffset=l+"px",t.style.strokeDasharray=(o+l-.5>>0)+"px, "+a+"px"}),I(this.element,e)},a.draw=function(){return I(this.element)};var N=function(t){var e,r,n=t&&/\)/.test(t)?t.split(")"):"none",s={};if(n instanceof Array)for(e=0;e<n.length;e++)r=n[e].split("("),""!==r[0]&&(s[r[0].replace(/\s/,"")]=r[1]);return s},F=e.Interpolate.translateSVG=function(t,e,r,n,s){return t+(r[1]===n[1]&&0===n[1]?(10*h(r[0],n[0],s)>>0)/10:(10*h(r[0],n[0],s)>>0)/10+" "+(10*h(r[1],n[1],s)>>0)/10)+e},L=e.Interpolate.rotateSVG=function(t,e,r,n,s){return t+((10*h(r[0],n[0],s)>>0)/10+" "+n[1]+","+n[2])+e},j=e.Interpolate.scaleSVG=function(t,e,r,n,s){return t+(1e3*h(r,n,s)>>0)/1e3+e},q=e.Interpolate.skewSVG=function(t,e,r,n,s){return t+(10*h(r,n,s)>>0)/10+e};return s.svgTransform=function(t,e){"svgTransform"in n||(n.svgTransform=function(t,e,r,n,s){t.setAttribute("transform",("translate"in r?F("translate(",")",r.translate,n.translate,s):"")+("rotate"in r?L("rotate(",")",r.rotate,n.rotate,s):"")+("scale"in r?j("scale(",")",r.scale,n.scale,s):"")+("skewX"in r?q("skewX(",")",r.skewX,n.skewX,s):"")+("skewY"in r?q("skewY(",")",r.skewY,n.skewY,s):""))});var r,s,a={},o=this.element.getBBox(),l=o.x+o.width/2,h=o.y+o.height/2;for(i in e)"rotate"===i?(r=e[i]instanceof Array?e[i]:/\s/.test(e[i])?[1*e[i].split(" ")[0],1*e[i].split(" ")[1].split(",")[0],1*e[i].split(" ")[1].split(",")[1]]:[1*e[i],l,h],a[i]=r):"translate"===i?(s=e[i]instanceof Array?e[i]:/\,|\s/.test(e[i])?e[i].split(/\,|\s/):[1*e[i],0],a[i]=[1*s[0]||0,1*s[1]||0]):"scale"===i?a[i]=1*e[i]||1:/skew/.test(i)&&(a[i]=1*e[i]||0);return"scale"in a&&(!("translate"in a)&&(a.translate=[0,0]),a.translate[0]+=(1-a.scale)*o.width/2,a.translate[1]+=(1-a.scale)*o.height/2,"rotate"in a&&(a.rotate[1]-="skewX"in a?Math.tan(a.skewX)*o.height:0,a.rotate[2]-="skewY"in a?Math.tan(a.skewY)*o.width:0),a.translate[0]+="skewX"in a?Math.tan(a.skewX)*o.height*2:0,a.translate[1]+="skewY"in a?Math.tan(a.skewY)*o.width*2:0),a},a.svgTransform=function(t,e){var r,n={},s=N(this.element.getAttribute("transform"));for(r in e)n[r]=r in s?s[r]:"scale"===r?1:0;return n},l.svgTransform=function(){var t,e,r,n=this.element.getBBox(),s=N(this.element.getAttribute("transform")),a=n.x+n.width/2,i=n.y+n.height/2;for(r in s)"translate"===r?(e=s[r]instanceof Array?s[r]:/\,|\s/.test(s[r])?s[r].split(/\,|\s/):[1*s[r],0],this.valuesStart.svgTransform[r]=[1*e[0]||0,1*e[1]||0]):"scale"===r?this.valuesStart.svgTransform[r]=1*s[r]||1:"rotate"===r?(t=s[r]instanceof Array?s[r]:/\s/.test(s[r])?[1*s[r].split(" ")[0],1*s[r].split(" ")[1].split(",")[0],1*s[r].split(" ")[1].split(",")[1]]:[1*s[r],a,i],this.valuesStart.svgTransform[r]=t):/skew/.test(r)&&(this.valuesStart.svgTransform[r]=1*s[r]||0);for(var r in this.valuesStart.svgTransform)r in this.valuesEnd.svgTransform||(this.valuesEnd.svgTransform[r]=this.valuesStart.svgTransform[r]),r==="rotate"in this.valuesStart.svgTransform&&"rotate"in this.valuesEnd.svgTransform&&(this.valuesEnd.svgTransform.rotate[1]=this.valuesStart.svgTransform.rotate[1]=a,this.valuesEnd.svgTransform.rotate[2]=this.valuesStart.svgTransform.rotate[2]=i)},this}});